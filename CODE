#include "BluetoothSerial.h"
BluetoothSerial SerialBT;

char command;

void setup() {
  SerialBT.begin("ESP32_Wheelchair");

  pinMode(14, OUTPUT);
  pinMode(27, OUTPUT);
  pinMode(26, OUTPUT);
  pinMode(25, OUTPUT);
  pinMode(33, OUTPUT);
  pinMode(32, OUTPUT);

  analogWrite(33, 120);
  analogWrite(32, 120);
}

void loop() {
  if (SerialBT.available()) {
    command = SerialBT.read();

    if (command == 'F') forward();
    else if (command == 'B') backward();
    else if (command == 'L') left();
    else if (command == 'R') right();
    else if (command == 'S') stopMotor();
  }
}

void forward() {
  digitalWrite(14, HIGH);
  digitalWrite(27, LOW);
  digitalWrite(26, HIGH);
  digitalWrite(25, LOW);
}

void backward() {
  digitalWrite(14, LOW);
  digitalWrite(27, HIGH);
  digitalWrite(26, LOW);
  digitalWrite(25, HIGH);
}

void left() {
  digitalWrite(14, LOW);
  digitalWrite(27, HIGH);
  digitalWrite(26, HIGH);
  digitalWrite(25, LOW);
}

void right() {
  digitalWrite(14, HIGH);
  digitalWrite(27, LOW);
  digitalWrite(26, LOW);
  digitalWrite(25, HIGH);
}

void stopMotor() {
  digitalWrite(14, LOW);
  digitalWrite(27, LOW);
  digitalWrite(26, LOW);
  digitalWrite(25, LOW);
}
